<div class="row mt-2 ml-3">
  <div class="col-sm-10 col-md-8 col-lg-6 col-xl-4">
    <form [formGroup]="taskEditForm" (ngSubmit)="editTask()" class="was-validated">
      <div class="form-group">
        <label for="text">Текст<span style="color: red">*</span>:</label><br>
        <input id="text" type="text" formControlName="text">
        <div class="valid-feedback"></div>
        <div class="invalid-feedback"></div>
      </div>
      <div class="form-group">
        <div class="dropdown">
          <label for="status">Статус<span style="color: red">*</span>:</label><br>
          <button id="status" class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <span>{{statusDescription}}</span>
          </button>
          <div class="dropdown-menu">
            <button class="dropdown-item" type="button" *ngFor="let status of statusList" (click)="setStatus(status.code, status.description)">{{status.description}}</button>
          </div>
        </div>
      </div>
      <div class="btn-group">
        <button type="submit" class="btn btn-primary" *ngIf="!isLoading; else loadingButton" [disabled]="!taskEditForm?.valid">Сохранить</button>
        <button type="button" class="btn btn-danger ml-2" (click)="goBackToTaskList()">Отмена</button>
      </div>
    </form>
  </div>
</div>

<ng-template #loadingButton>
  <button class="btn btn-primary">
    <span class="spinner-border spinner-border-sm"></span>
    Подождите
  </button>
</ng-template>
